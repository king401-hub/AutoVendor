{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="{{ request.theme|default:'light' }}">
<head>
    <!-- ... -->
</head>
<body class="theme-{{ request.theme|default:'light' }}">
    <!-- ... -->
</body>
</html>
<html lang="en">
<head>
  <meta charset="utf-8">
   <title>{% block title %}AutoVendor{% endblock %}</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="Auto Vendor - buy, sell & inspect cars" name="keywords">
  <meta content="Auto Vendor - buy, sell & inspect cars" name="description">

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <!-- Icon Font Stylesheet -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Libraries Stylesheet -->
  <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

  <!-- Bootstrap -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

  <!-- Template Stylesheet (external) -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{% static 'img/logo.png' %}">
  <!-- If you have a .ico file, you can use:
  <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
  -->

  <!-- Inline edits to match your video-style frames (keeps external file for global styles) -->
  <style>
    /* Carousel Professional Enhancements */
    .header-carousel .carousel-item {
      position: relative;
    }
    .header-carousel .carousel-item::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(120deg, rgba(15,23,36,0.82) 60%, rgba(11,18,32,0.7) 100%);
      z-index: 1;
    }
    .header-carousel .carousel-caption {
      z-index: 2;
      text-align: left;
      padding-left: 2.5rem;
      padding-right: 2.5rem;
    }
    .header-carousel h1, .header-carousel p {
      color: #fff !important;
      text-shadow: 0 4px 24px rgba(0,0,0,0.25);
    }
    .header-carousel h1 {
      font-size: 2.7rem;
      font-weight: 900;
      margin-bottom: 1.2rem;
      letter-spacing: 0.5px;
    }
    .header-carousel p {
      font-size: 1.18rem;
      font-weight: 400;
      margin-bottom: 1.5rem;
    }
    .header-carousel .btn {
      font-size: 1.08rem;
      font-weight: 700;
      padding: 0.7rem 2.2rem;
      border-radius: 2rem;
      box-shadow: 0 2px 12px rgba(14,165,166,0.10);
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
    }
    .header-carousel .btn-primary {
      background: #0ea5a6;
      border: none;
    }
    .header-carousel .btn-outline-light {
      border: 2px solid #fff;
      color: #fff;
    }
    .header-carousel .btn-outline-light:hover {
      background: #fff;
      color: #0ea5a6;
    }
    @media (max-width: 991px) {
      .header-carousel .carousel-caption {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      .header-carousel h1 {
        font-size: 2rem;
      }
      .header-carousel p {
        font-size: 1rem;
      }
    }
    /* Overall gradient background to mirror the frames */
    body {
      font-family: 'Lato', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg, #0f1724 0%, #0b1220 100%);
      color: rgba(58, 87, 102, 0.906)
    }

    /* Professional Features Section Styling */
    .feature {
      background: linear-gradient(120deg, #1a2233 60%, #232b3e 100%);
      border-radius: 32px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.10);
      padding-top: 3.5rem;
      padding-bottom: 3.5rem;
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
    }
    .feature-item {
      background: rgba(255,255,255,0.10);
      border-radius: 20px;
      box-shadow: 0 4px 24px 0 rgba(0,0,0,0.10);
      padding: 2rem 1.5rem;
      display: flex;
      align-items: center;
      transition: box-shadow 0.2s, transform 0.2s, background 0.2s;
      border: 1px solid rgba(255,255,255,0.13);
      position: relative;
      z-index: 1;
    }
    .feature-item:hover {
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.22);
      transform: translateY(-6px) scale(1.04);
      background: rgba(255,255,255,0.16);
    }
    .feature-icon {
      background: linear-gradient(135deg, #2b3a5a 60%, #3a4a6e 100%);
      border-radius: 50%;
      width: 64px;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 12px 0 rgba(0,0,0,0.13);
      margin-right: 1.5rem;
      color: #fff;
      font-size: 2.2rem;
      transition: background 0.2s, color 0.2s;
      border: 2px solid #2b3a5a;
    }
    .feature-item:hover .feature-icon {
      background: linear-gradient(135deg, #3a4a6e 60%, #2b3a5a 100%);
      color: #2f00ff;
      border-color: #ffd700;
    }
    .feature-item .ms-4, .feature-item .text-end {
      flex: 1;
    }
    .feature h5 {
      color: #fff;
      font-weight: 800;
      letter-spacing: 0.5px;
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
      text-shadow: 0 2px 8px rgba(0,0,0,0.10);
    }
    .feature p {
      color: #d0d8e8;
      font-size: 1.08rem;
      font-weight: 400;
      line-height: 1.6;
      margin-bottom: 0;
    }
    .feature .display-5 {
      font-weight: 900;
      color: #fff;
      letter-spacing: 1px;
      text-shadow: 0 2px 12px rgba(0,0,0,0.13);
    }
    .feature .text-secondary {
      color: #ffd700 !important;
    }
    @media (max-width: 991px) {
      .feature {
        border-radius: 0;
        padding-top: 2rem;
        padding-bottom: 2rem;
      }
      .feature-item {
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
        padding: 1.2rem 1rem;
      }
      .feature-icon {
        margin-right: 0;
        margin-bottom: 1rem;
      }
    }

    /* Navbar tweaks */
    .nav-bar {
      background: rgba(255,255,255,0.03);
      backdrop-filter: blur(6px);
      border-bottom: 1px solid rgba(255,255,255,0.03);
    }
    .navbar .navbar-brand h1{font-weight:700; font-size:18px; color:#fff}
    .navbar .nav-link{color:rgba(255,255,255,0.85) !important}
    .navbar .btn-secondary{background:#111827; border:1px solid rgba(255,255,255,0.06)}

    /* Header carousel: dark overlay, centered content and big search card */
    .header-carousel {position:relative;}
    .header-carousel .carousel-item img{height:72vh; object-fit:cover; filter:brightness(0.6);}
    .header-carousel .carousel-caption{top:0; bottom:0; left:0; right:0;}
    .hero-inner{height:72vh; display:flex; align-items:center}

    /* Search card overlay (mobile-first, responsive) */
    .search-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:16px;
      padding:18px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.04);
      max-width:1000px;
      margin-top:18px;
    }
    .search-card .form-control{background:transparent; border:1px solid rgba(255,255,255,0.06); color:#fff}
    .search-card .form-control::placeholder{color:rgba(255,255,255,0.6)}
    .search-card .btn-primary{background:#0ea5a6; border: none}

    /* Featured listings */
    .listing-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12)); border:1px solid rgba(255,255,255,0.03); border-radius:12px; overflow:hidden}
    .listing-card .card-body{padding:1rem}
    .badge-price{background:#06b6d4; color:#001; font-weight:700}

    /* Responsive adjustments */
    @media (max-width: 768px){
      .header-carousel .carousel-item img{height:56vh}
      .hero-inner{padding:1.25rem}
    }

    /* Small UI polish */
    .feature h5, .about h5{color:#fff}
    .text-secondary{color:#06b6d4 !important}

    footer.footer{background:#020617}
    .copyright{background:#02040a}

  </style>

  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <style>
  /* Position modal at top-right */
  .modal-dialog-top-right {
    position: absolute;
    top: 70px;   /* adjust depending on navbar height */
    right: 20px;
    margin: 0;
  }

  /* Optional: make modal look like a dropdown card */
  #profileModal .modal-content {
    width: 250px;
  }
</style>
{% if request.user.is_authenticated %}
<div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-top-right">
    <div class="modal-content rounded-3 shadow" style="border-radius: 15px; overflow: hidden;">
      <div class="modal-header">
        <h6 class="modal-title" id="profileModalLabel">My Profile</h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body text-center">
         
  <img src="{{ request.user.profile_image.url }}"
       alt="User Image"
       style="height:58px; width:55px; border-radius:50%; border:3px solid #ecf0f0; object-fit:cover; margin-right: 6px;">
        <h6 class="mb-1">{{ request.user.first_name }} {{ request.user.last_name }}</h6>
        <p class="text-muted">{{ request.user.email }}</p>
      <a href="{% url 'user_profile' %}"> <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#editProfileModal">View Profile</button></a>
      </div>
      <div class="modal-footer d-flex justify-content-between">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
        <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
      </div>
    </div>
  </div>
</div>
{% endif %}
  <!-- Navbar -->
  <div class="container-fluid nav-bar sticky-top px-0 px-lg-4 py-2 py-lg-0">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-dark">
        <a href="/" class="navbar-brand p-0 d-flex align-items-center gap-1">
          <img src="{% static 'img/logo.png' %}" alt="Logo" style="width:47px; height:59px; border-radius:50%; object-fit:cover; margin-right:-12px;">
          <h1 class="fs-5 mb-0">utoVendor</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
          <span class="fa fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <div class="navbar-nav mx-auto py-0">
            <a href="{% url 'index' %}" class="nav-item nav-link active">Home</a>
            <a href="{% url 'about' %}" class="nav-item nav-link">About</a>
            <a href="{% url 'service' %}" class="nav-item nav-link">Service</a>
            <a href="{% url 'blog' %}" class="nav-item nav-link">Blog</a>

            <div class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
              <div class="dropdown-menu m-0">
                <a href="{% url 'feature' %}" class="dropdown-item">Our Feature</a>
                <a href="{% url 'cars' %}" class="dropdown-item">Our Cars</a>
                <a href="{% url 'team' %}" class="dropdown-item">Our Team</a>
                <a href="{% url 'testimonial' %}" class="dropdown-item">Testimonial</a>
                <a href="{% url 'inspect' %}" class="dropdown-item">Inspection</a>
              </div>
            </div>
            <a href="{% url 'contact' %}" class="nav-item nav-link">Contact</a>
          </div>
          {% if request.user.is_authenticated %}
          
          <span class="fw-bold ms-3" 
                style="font-size:clamp(1rem, 2vw, 1.3rem); color:#e2e4e4; letter-spacing:2px;">
            Hi, {{ request.user.first_name }} {{ request.user.last_name }}.
</span> 
<button type="button" class="btn d-flex align-items-center" 
        data-bs-toggle="modal" data-bs-target="#profileModal" 
        style="border: none; background: none; padding: 0;">
  
  <!-- User Image -->
  
  <img src="{{ request.user.profile_image.url }}"
       alt="User Image"
       style="height:58px; width:55px; border-radius:50%; border:3px solid #ecf0f0; object-fit:cover; margin-right: 6px;">
  
  <!-- Icon (with spacing) -->
  <i class="bi bi-caret-down-fill" style="font-size:18px; color:#555; margin-left:6px;"></i>
</button>
          {% else %}
<a href="{% url 'login' %}" class="btn mx-lg-3 btn-outline-light rounded-pill py-2 px-4">Login</a>
          <a href="{% url 'register' %}" class="btn btn-primary rounded-pill py-2 px-4">Get Started</a>
          {% endif %}
        </div>
      </nav>
    </div>
  </div>
  <div class="container mt-4">
    {% block content %}{% endblock %}
  </div>
   <!-- Footer (kept) -->
  <div class="container-fluid footer bg-dark text-light py-5 wow fadeIn" data-wow-delay="0.2s">
    <div class="container py-5">
      <div class="row g-5">
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="footer-item d-flex flex-column">
            <h4 class="text-white mb-4">About Us</h4>
            <p class="mb-3">We are dedicated to offering top-quality vehicles and exceptional customer service. Trust us for reliable and affordable car solutions every time.</p>
            <div class="position-relative">
              <input class="form-control rounded-pill w-100 py-3 ps-4 pe-5" type="email" placeholder="Enter your email" aria-label="Email address">
              <button type="button" class="btn btn-secondary rounded-pill position-absolute top-0 end-0 py-2 mt-2 me-2">Subscribe</button>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="footer-item d-flex flex-column">
            <h4 class="text-white mb-4">Quick Links</h4>
            <a href="#"><i class="fas fa-angle-right me-2"></i> About Us</a>
            <a href="#"><i class="fas fa-angle-right me-2"></i> Our Cars</a>
            <a href="#"><i class="fas fa-angle-right me-2"></i> Car Categories</a>
            <a href="#"><i class="fas fa-angle-right me-2"></i> Meet the Team</a>
            <a href="#"><i class="fas fa-angle-right me-2"></i> Contact</a>
            <a href="#"><i class="fas fa-angle-right me-2"></i> Terms & Conditions</a>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="footer-item d-flex flex-column">
            <h4 class="text-white mb-4">Business Hours</h4>
            <div class="mb-3">
              <h6 class="text-muted mb-0">Mon - Fri:</h6>
              <p class="text-white mb-0">09:00 AM - 07:00 PM</p>
            </div>
            <div class="mb-3">
              <h6 class="text-muted mb-0">Saturday:</h6>
              <p class="text-white mb-0">10:00 AM - 05:00 PM</p>
            </div>
            <div class="mb-3">
              <h6 class="text-muted mb-0">Sunday:</h6>
              <p class="text-white mb-0">Closed (Vacation)</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="footer-item d-flex flex-column">
            <h4 class="text-white mb-4">Contact Info</h4>
            <a href="#"><i class="fa fa-map-marker-alt me-2"></i> 123 Main Street, New York, NY</a>
            <a href="mailto:info@example.com"><i class="fas fa-envelope me-2"></i> info@example.com</a>
            <a href="tel:+01234567890"><i class="fas fa-phone me-2"></i> +012 345 67890</a>
            <a href="tel:+01234567890"><i class="fas fa-print me-2"></i> +012 345 67890</a>
            <div class="d-flex mt-3">
              <a class="btn btn-secondary btn-md-square rounded-circle me-2" href="#" aria-label="Facebook"><i class="fab fa-facebook-f text-white"></i></a>
              <a class="btn btn-secondary btn-md-square rounded-circle me-2" href="#" aria-label="Twitter"><i class="fab fa-twitter text-white"></i></a>
              <a class="btn btn-secondary btn-md-square rounded-circle me-2" href="#" aria-label="Instagram"><i class="fab fa-instagram text-white"></i></a>
              <a class="btn btn-secondary btn-md-square rounded-circle" href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in text-white"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid copyright py-4 bg-dark text-white">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-md-6 text-center text-md-start">
          <span class="text-light">
            &copy; <a href="{% url 'index' %}" class="text-decoration-underline text-white fw-semibold">AutoVendor</a>. All rights reserved.
          </span>
        </div>
        <div class="col-md-6 text-center text-md-end">
          <small>
            Designed by 
            <a href="mailto:solomonenoch663@gmail.com" class="text-decoration-underline text-white fw-semibold">King Xolo</a> 
            | Distributed by 
            <a href="mailto:solomonenoch663@gmail.com" class="text-decoration-underline text-white fw-semibold">King Xolo</a>
          </small>
        </div>
      </div>
    </div>
  </div>

  <!-- QR Scanner Button (fixed at bottom right) -->
  <button id="openQrScannerBtn" class="btn btn-primary rounded-circle"
          style="position:fixed;bottom:32px;right:32px;z-index:9999;width:56px;height:56px;box-shadow:0 4px 16px rgba(0,0,0,0.18);display:flex;align-items:center;justify-content:center;">
    <i class="bi bi-qr-code-scan" style="font-size:2rem;"></i>
  </button>

  <!-- QR Scanner Modal -->
  <div class="modal fade" id="qrScannerModal" tabindex="-1" aria-labelledby="qrScannerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content rounded-3">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="qrScannerModalLabel"><i class="bi bi-qr-code-scan me-2"></i>Scan QR Code</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="qr-reader" style="width:100%;"></div>
          <div id="qr-result" class="mt-3 text-center fw-bold"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- html5-qrcode library -->
<script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
<script>
    document.getElementById('openQrScannerBtn').addEventListener('click', function() {
      var qrModal = new bootstrap.Modal(document.getElementById('qrScannerModal'));
      qrModal.show();
      setTimeout(startQrScanner, 400); // Wait for modal animation
    });

    let qrScanner;
    function startQrScanner() {
      if (qrScanner) {
        qrScanner.clear();
      }
      qrScanner = new Html5Qrcode("qr-reader");
      qrScanner.start(
        { facingMode: "environment" },
        {
          fps: 10,
          qrbox: 250
        },
        qrCodeMessage => {
          document.getElementById('qr-result').innerText = "Result: " + qrCodeMessage;
          qrScanner.stop();
        },
        errorMessage => {
          // Optionally show scan errors
        }
      ).catch(err => {
        document.getElementById('qr-result').innerText = "Camera error: " + err;
      });
    }

    // Stop scanner when modal closes
    document.getElementById('qrScannerModal').addEventListener('hidden.bs.modal', function () {
      if (qrScanner) {
        qrScanner.stop().then(() => {
          qrScanner.clear();
        });
      }
      document.getElementById('qr-result').innerText = "";
    });
  </script>
</html>
